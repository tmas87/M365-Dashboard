<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>M365 Environment Dashboard</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="light">

<header class="card header-card blue compact-header">
  <div class="header-left">
    <h1>M365 Environment Dashboard</h1>
    <p class="tenant">tmas87.onmicrosoft.com</p>

    <div class="header-info">
      <div class="mini">üü¢ Sync: Healthy</div>
      <div class="mini" id="time"></div>
      <div class="mini" id="location">Detecting location‚Ä¶</div>
    </div>
  </div>

  <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark / Light">
    üåô / ‚òÄÔ∏è
  </button>
</header>

<section class="dashboard">

  <div class="card blue" onclick="openModal('licensesModal')">
    <h2>Licensing</h2>
    <canvas id="licenseChart"></canvas>
    <div class="info">
      <span>E3: 60%</span>
      <span>E5: 40%</span>
    </div>
  </div>

  <div class="card green" onclick="openModal('usersModal')">
    <h2>Users</h2>
    <canvas id="usersChart"></canvas>
    <div class="info">
      <span>Online: 120</span>
      <span>Offline: 30</span>
    </div>
  </div>

  <div class="card orange" onclick="openModal('securityModal')">
    <h2>Security</h2>
    <canvas id="securityChart"></canvas>
    <div class="info">
      <span>Secure: 85%</span>
      <span>At Risk: 15%</span>
    </div>
  </div>

  <div class="card red" onclick="openModal('riskModal')">
    <h2>Risk Register</h2>
    <canvas id="riskChart"></canvas>
    <div class="info">
      <span>High: 3</span>
      <span>Medium: 7</span>
    </div>
  </div>

  <div class="card blue">
    <h2>Devices</h2>
    <div class="info">
      <span>Compliant: 92%</span>
      <span>Non-Compliant: 8%</span>
    </div>
  </div>

  <div class="card green">
    <h2>Mail Flow</h2>
    <div class="info">
      <span>Inbound OK</span>
      <span>No Issues</span>
    </div>
  </div>

</section>

<!-- MODALS -->

<div class="modal" id="licensesModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('licensesModal')">√ó</span>
    <h2>License Details</h2>
    <p>E3: 90 users</p>
    <p>E5: 60 users</p>
    <button>Assign License</button>
  </div>
</div>

<div class="modal" id="usersModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('usersModal')">√ó</span>
    <h2>User Status</h2>
    <p>Online: 120</p>
    <p>Offline: 30</p>
    <p>Disabled: 5</p>
  </div>
</div>

<div class="modal" id="securityModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('securityModal')">√ó</span>
    <h2>Security Posture</h2>
    <p>MFA Enabled: 85%</p>
    <p>Risky Sign-ins: 6</p>
  </div>
</div>

<div class="modal" id="riskModal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('riskModal')">√ó</span>
    <h2>Risk Register</h2>
    <p>Critical: 1</p>
    <p>High: 3</p>
    <p>Medium: 7</p>
  </div>
</div>

<script src="script.js"></script>
</body>
</html>
